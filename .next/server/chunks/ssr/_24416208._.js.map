{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Prantik/Desktop/ai-career-coach-master/actions/resume.js"],"sourcesContent":["\"use server\";\n\nimport { db } from \"@/lib/prisma\";\nimport { auth } from \"@clerk/nextjs/server\";\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\nimport { revalidatePath } from \"next/cache\";\n\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\nconst model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" });\n\nexport async function saveResume(content) {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  try {\n    const resume = await db.resume.upsert({\n      where: {\n        userId: user.id,\n      },\n      update: {\n        content,\n      },\n      create: {\n        userId: user.id,\n        content,\n      },\n    });\n\n    revalidatePath(\"/resume\");\n    return resume;\n  } catch (error) {\n    console.error(\"Error saving resume:\", error);\n    throw new Error(\"Failed to save resume\");\n  }\n}\n\nexport async function getResume() {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  return await db.resume.findUnique({\n    where: {\n      userId: user.id,\n    },\n  });\n}\n\nexport async function improveWithAI({ current, type }) {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n    include: {\n      industryInsight: true,\n    },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  const prompt = `\n    As an expert resume writer, improve the following ${type} description for a ${user.industry} professional.\n    Make it more impactful, quantifiable, and aligned with industry standards.\n    Current content: \"${current}\"\n\n    Requirements:\n    1. Use action verbs\n    2. Include metrics and results where possible\n    3. Highlight relevant technical skills\n    4. Keep it concise but detailed\n    5. Focus on achievements over responsibilities\n    6. Use industry-specific keywords\n    \n    Format the response as a single paragraph without any additional text or explanations.\n  `;\n\n  try {\n    const result = await model.generateContent(prompt);\n    const response = result.response;\n    const improvedContent = response.text().trim();\n    return improvedContent;\n  } catch (error) {\n    console.error(\"Error improving content:\", error);\n    throw new Error(\"Failed to improve content\");\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AACA;;;;;;;;AAEA,MAAM,QAAQ,IAAI,8JAAA,CAAA,qBAAkB,CAAC,QAAQ,GAAG,CAAC,cAAc;AAC/D,MAAM,QAAQ,MAAM,kBAAkB,CAAC;IAAE,OAAO;AAAmB;AAE5D,eAAe,uCAAQ,GAAR,WAAW,OAAO;IACtC,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IAC5B,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;IAE7B,MAAM,OAAO,MAAM,6GAAA,CAAA,KAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QACpC,OAAO;YAAE,aAAa;QAAO;IAC/B;IAEA,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,IAAI;QACF,MAAM,SAAS,MAAM,6GAAA,CAAA,KAAE,CAAC,MAAM,CAAC,MAAM,CAAC;YACpC,OAAO;gBACL,QAAQ,KAAK,EAAE;YACjB;YACA,QAAQ;gBACN;YACF;YACA,QAAQ;gBACN,QAAQ,KAAK,EAAE;gBACf;YACF;QACF;QAEA,CAAA,GAAA,6HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,MAAM,IAAI,MAAM;IAClB;AACF;AAEO,eAAe,uCAAO,GAAP;IACpB,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IAC5B,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;IAE7B,MAAM,OAAO,MAAM,6GAAA,CAAA,KAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QACpC,OAAO;YAAE,aAAa;QAAO;IAC/B;IAEA,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,OAAO,MAAM,6GAAA,CAAA,KAAE,CAAC,MAAM,CAAC,UAAU,CAAC;QAChC,OAAO;YACL,QAAQ,KAAK,EAAE;QACjB;IACF;AACF;AAEO,eAAe,uCAAW,GAAX,cAAc,EAAE,OAAO,EAAE,IAAI,EAAE;IACnD,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,CAAA,GAAA,mLAAA,CAAA,OAAI,AAAD;IAC5B,IAAI,CAAC,QAAQ,MAAM,IAAI,MAAM;IAE7B,MAAM,OAAO,MAAM,6GAAA,CAAA,KAAE,CAAC,IAAI,CAAC,UAAU,CAAC;QACpC,OAAO;YAAE,aAAa;QAAO;QAC7B,SAAS;YACP,iBAAiB;QACnB;IACF;IAEA,IAAI,CAAC,MAAM,MAAM,IAAI,MAAM;IAE3B,MAAM,SAAS,CAAC;sDACoC,EAAE,KAAK,mBAAmB,EAAE,KAAK,QAAQ,CAAC;;sBAE1E,EAAE,QAAQ;;;;;;;;;;;EAW9B,CAAC;IAED,IAAI;QACF,MAAM,SAAS,MAAM,MAAM,eAAe,CAAC;QAC3C,MAAM,WAAW,OAAO,QAAQ;QAChC,MAAM,kBAAkB,SAAS,IAAI,GAAG,IAAI;QAC5C,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,MAAM,IAAI,MAAM;IAClB;AACF;;;IAvFsB;IAgCA;IAiBA;;AAjDA,+OAAA;AAgCA,+OAAA;AAiBA,+OAAA","debugId":null}},
    {"offset": {"line": 149, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Prantik/Desktop/ai-career-coach-master/app/%28main%29/resume/_components/resume-builder.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/resume/_components/resume-builder.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/resume/_components/resume-builder.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAoT,GACjV,kFACA","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Prantik/Desktop/ai-career-coach-master/app/%28main%29/resume/_components/resume-builder.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/resume/_components/resume-builder.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/resume/_components/resume-builder.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAgS,GAC7T,8DACA","debugId":null}},
    {"offset": {"line": 177, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Prantik/Desktop/ai-career-coach-master/app/%28main%29/resume/page.jsx"],"sourcesContent":["import { getResume } from \"@/actions/resume\";\nimport ResumeBuilder from \"./_components/resume-builder\";\n\nexport default async function ResumePage() {\n  const resume = await getResume();\n\n  return (\n    <div className=\"container mx-auto py-6\">\n      <ResumeBuilder initialContent={resume?.content} />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEe,eAAe;IAC5B,MAAM,SAAS,MAAM,CAAA,GAAA,iHAAA,CAAA,YAAS,AAAD;IAE7B,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,8JAAA,CAAA,UAAa;YAAC,gBAAgB,QAAQ;;;;;;;;;;;AAG7C","debugId":null}}]
}